# MiniPay 서비스

## 프로젝트 개요

- 간편결제의 기본 기능을 구현하는 프로젝트입니다.
- 멤버십, 결제, 계좌, 정산 등의 서비스를 구현하고, 서비스 분리로 인해 발생하는 문제를 파악하고 해결합니다.

## 도메인 식별

1. 머니란 무엇인가? (카카오머니, 쿠페이머니, 네이버페이 머니) 
   - 머니는 단순히 충전금액이면서, 카카오라는 법인의 계좌에 쌓이는 돈
   - 예를 들어, 내가 카카오머니를 충전한다는 의미는 내 은행 계좌의 돈을 빼서 카카오 법인 계좌에 입금 하는 행위이다. 나의 카카오머니는 단순히 DB에 update된 돈(머니)
2. 머니는 왜 10,000원 이상 충전해야 하는가?
   - 카카오페이 같은걸 보면, 한번 충전할 때 10,000원으로 충전되는 걸 볼 수 있다.
   - 이는 펌뱅킹 특성 때문! (수수료 문제)
3. 펌뱅킹은 무엇인가?
   - 은행이 아닌 기업이나 단체에서 은행의 전산 시스템을 연결하여 이체, 계좌 조회 등의 서비스를 이용하는 것 (B2B)
   - 대규모 금융 거래에 이용된다. (급여 이체, 계좌 조회, 정산 업무)
   - 실시간, 비실시간(batch) 처리 모두 가능하다.
   - 오픈뱅킹과 비교되는데, 펌뱅킹은 전용망을 구성해 보안과 안정성이 높다. (그래서 간편결제 서비스마다 이용가능한 은행이 조금씩 다르다.)
   - 보통 입/출금 건마다 수수료가 지불되기 때문에 충전금액이 최소 10,000원으로 고정된 경우가 많다.
4. 송금은 무엇인가?
   - User to User의 경우 단순히 충전 금액(머니)의 이동 트랜잭션. 즉, A유저의 잔액을 -update, B유저의 잔액을 +update (이 경우 법인 계좌의 돈은 그대로이다.)
   - 만약, 금액이 부족하면 충전 후 송금 (이 때도 최소 10,000원 이상)
   - User to 일반 은행의 경우 머니를 -update하고, 실제 카카오 법인계좌에서 은행 계좌로 금액을 이동시킨다. (펌뱅킹 이용)
5. 결제는 무엇인가?
   - 카카오 머니를 이용해 교촌치킨에서 결제를 한다는 의미는?
   - User의 머니를 -update하고, 전표를 생성한다!
   - 이 전표는 나중에 일괄 처리(batch)한다. -> 정산한다.
6. 정산은 무엇인가?
   - 생성된 전표로 돈을 정리하는 행위
   - 수수료, 이벤트 등 고려
   - 정산주기가 길수록 회사에 유리할 듯? -> 법인계좌에 돈이 오래 머무르니까
